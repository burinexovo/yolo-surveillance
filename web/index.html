<!-- web/index.html -->
<!DOCTYPE html>
<html lang="zh-Hant">
	<head>
		<meta charset="utf-8" />
		<title>店內即時畫面</title>
		<style>
			body {
				margin: 0;
				background: #111;
				color: #eee;
				font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
					sans-serif;
				display: flex;
				flex-direction: column;
				height: 100vh;
			}
			header {
				padding: 8px 12px;
				font-size: 14px;
				background: #222;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}
			#status {
				font-size: 12px;
				opacity: 0.8;
			}
			main {
				flex: 1;
				display: flex;
				align-items: center;
				justify-content: center;
				background: #000;
			}
			video {
				max-width: 100%;
				max-height: 100%;
				background: #000;
			}
			button {
				padding: 4px 8px;
				background: #444;
				border: none;
				border-radius: 4px;
				color: #eee;
				cursor: pointer;
				font-size: 12px;
			}
			button:hover {
				background: #666;
			}

			#loadingOverlay {
				position: absolute;
				inset: 0;
				background: rgba(0, 0, 0, 0.85);
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				z-index: 10;
			}

			.spinner {
				width: 48px;
				height: 48px;
				border: 4px solid rgba(255, 255, 255, 0.2);
				border-top-color: #fff;
				border-radius: 50%;
				animation: spin 1s linear infinite;
			}

			.loading-text {
				margin-top: 12px;
				font-size: 13px;
				opacity: 0.8;
			}

			@keyframes spin {
				to {
					transform: rotate(360deg);
				}
			}

			/* main 要能疊東西 */
			main {
				position: relative;
			}
		</style>
	</head>
	<body>
		<header>
			<div>店內即時畫面</div>
			<div>
				<span id="status">初始化中...</span>
				<button id="reconnectBtn">重新連線</button>
			</div>
		</header>

		<main>
			<!-- loading 遮罩 -->
			<div id="loadingOverlay">
				<div class="spinner"></div>
				<div class="loading-text">連線中…</div>
			</div>

			<!-- WebRTC 的遠端影像會顯示在這裡  -->
			<video id="remoteVideo" muted autoplay playsinline></video>
		</main>

		<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
		<!-- <script src="/web/client.js"></script> -->
		<script src="/web/client.js?v=20251231_0117_0934"></script>
	</body>
</html>
